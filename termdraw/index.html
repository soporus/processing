<html>
<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">

  <!-- PLEASE NO CHANGES BELOW THIS LINE (UNTIL I SAY SO) -->
<!--   <script language="javascript" type="text/javascript" src="libraries/p5.min.js"></script> -->
  <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.js"></script>
  <script language="javascript" type="text/javascript" src="main.js"></script>
  <!-- OK, YOU CAN MAKE CHANGES BELOW THIS LINE AGAIN -->
    <style> body {padding: 0; margin: 0;} </style>
  <!-- This line removes any default padding and style.
       You might only need one of these values set -->
</head>

<body>
  <!-- <button>start recording</button><br>
   <script>
   // media record stuff
 var btn = document.querySelector('button'), chunks = [];
 window.onload = function() {
 function record() {
   chunks.length = 0;
   let options = {
       audioBitsPerSecond : 0,
       videoBitsPerSecond : 220000000,
       mimeType: 'video/webm;codecs=H264'
     }
   let stream = document.querySelector('canvas').captureStream(30),
     recorder = new MediaRecorder(stream, options);
   recorder.ondataavailable = e => {
     if (e.data.size) {
       chunks.push(e.data);
     }
   };
   recorder.onstop = exportVideo;
   btn.onclick = e => {
     recorder.stop();
     btn.textContent = 'start recording';
     btn.onclick = record;
   };
   recorder.start();
   btn.textContent = 'stop recording';
 }
   btn.onclick = record;
 }

 function exportVideo(e) {
   var blob = new Blob(chunks);
   var vid = document.createElement('video');
   vid.id = 'recorded'
   vid.controls = true;
   vid.src = URL.createObjectURL(blob);
   document.body.appendChild(vid);
   vid.play();
 } -->
   </script>
</body>
</html>
